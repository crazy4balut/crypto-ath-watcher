from telegram.ext import Updater, MessageHandler, Filters

# Replace this with the token you got from @BotFather
BOT_TOKEN = 'YOUR_BOT_TOKEN_HERE'

def handle_message(update, context):
chat = update.effective_chat
print(f"Chat ID: {chat.id}")
context.bot.send_message(chat_id=chat.id, text=f"Your chat ID is: {chat.id}")

updater = Updater(BOT_TOKEN, use_context=True)
dp = updater.dispatcher

dp.add_handler(MessageHandler(Filters.text & ~Filters.command, handle_message))

print("Bot is running... Send a message to it.")
updater.start_polling()
updater.idle()
